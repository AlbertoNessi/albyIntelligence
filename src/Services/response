curl \
  --compressed \
  --request POST \
  --url 'https://api.openai.com/v1/chat/completions' \
  --header 'content-type: application/json' \
  --header 'authorization: Bearer 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' \
  --header 'accept: */*' \
  --header 'user-agent: Symfony HttpClient (Curl)' \
  --header 'accept-encoding: gzip' \
  --header 'content-length: 6468' \
  --data-raw '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"    You are a helpful assistant who helps the user search for information within a web app. Respond to this user request with the following results in ElasticSearch JSON. Translate these results into natural language and then display the result to the user.\n\n    # Input data\n\n    1. **User request**: Who wrote this message? \u0022Hey Bob! Don\u0027t forget the party this Saturday\u0022\n    2. **ElasticSearch JSON results**:  Document Data:\nSender: 1\nMessage: Hey Bob! Don\u0027t forget the party this Saturday.\nReceiver: 2\nEntities:\n    - 1 \u0027\n    - DATE\n    - Bob\n    - PERSON\n    - this Saturday\n    - DATE\n    - 2\n    - CARDINAL\n\nDocument Data:\nSender: 1\nReceiver: 2\nSubject: Party Invitation\nMessage: Hey Bob, I\u0027m hosting a party on June 25th. Would you like to join?\nEntities:\n    - 1 \u0027\n    - DATE\n    - \u0027 2 \u0027\n    - DATE\n    - Party Invitation \u0027\n    - ORG\n    - Bob\n    - PERSON\n    - June 25th\n    - DATE\n\nDocument Data:\nSender: 5\nMessage: Are we having a gift exchange at the party?\nReceiver: 1\nEntities:\n    - \u0027 1\n    - DATE\n\nDocument Data:\nName: Bob\nSurname: Smith\nEmail: bob.smith@example.com\nPhone: 555-5678\nEntities:\n    - Bob\n    - PERSON\n    - Smith \u0027\n    - ORG\n    - 555-5678\n    - PHONE\n\nDocument Data:\nSender: 1\nReceiver: 3\nSubject: Party Details\nMessage: Charlie, the party will be at my place starting at 7 PM.\nEntities:\n    - 1 \u0027\n    - DATE\n    - \u0027 3 \u0027\n    - DATE\n    - Party Details \u0027\n    - ORG\n    - Charlie\n    - PERSON\n    - 7 PM\n    - TIME\n\nDocument Data:\nSender: 2\nReceiver: 1\nSubject: Re: Party Invitation\nMessage: Hi Alice, thanks for the invite! I\u0027ll be there.\nEntities:\n    - 2 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - Alice\n    - PERSON\n\nDocument Data:\nTitle: Birthday Party\nSubtitle: Alice\u0027s 30th Celebration\nNote: Theme: 80s Retro. Prepare decorations accordingly.\nEntities:\n    - Birthday Party \u0027\n    - ORG\n    - Alice\n    - PERSON\n    - Theme\n    - WORK_OF_ART\n\nDocument Data:\nSender: 1\nMessage: Charlie, can you handle the music setup?\nReceiver: 3\nEntities:\n    - 1 \u0027\n    - DATE\n    - Charlie\n    - PERSON\n    - \u0027 3\n    - DATE\n\nDocument Data:\nSender: 5\nReceiver: 1\nSubject: Gift Ideas\nMessage: Alice, do you have any suggestions for party gifts?\nEntities:\n    - 5 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - Gift Ideas \u0027\n    - PERSON\n    - Alice\n    - PERSON\n\nDocument Data:\nSender: 4\nReceiver: 1\nSubject: RSVP\nMessage: Alice, I\u0027ll attend your party. Let me know if you need any help.\nEntities:\n    - 4 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - RSVP \u0027\n    - ORG\n    - Alice\n    - PERSON\n\n\n\n    # Steps\n\n    1. **Parse the JSON Data**: Extract necessary fields and values from the ElasticSearch results.\n    2. **Answer**: Answer with only the necessary information\n    3. **Language and Tone**: Use user-friendly and approachable language, making sure technical terms are explained or simplified.\n\n    # Output Format\n\n    1. As briefly and concisely as possible.\n    2. With natural language, not structured output\n    3. If required by the context as a well-structured paragraph in natural language.\n    4. Do not use arrays or objects in your response.\n\n    # Notes\n\n    - Focus on user-friendly explanations, avoiding technical jargon unless necessary.\n    - Handle any missing or null data gracefully without interrupting the narrative flow.\n    - Prioritize significant findings or data points that may interest the user.\n    - Assuming the data is pre-processed to not include sensitive or irrelevant information."},{"role":"user","content":"Based on the following data, answer the question in natural language \u0022Who wrote this message? \u0022Hey Bob! Don\u0027t forget the party this Saturday\u0022\u0022\n\nDocument Data:\nSender: 1\nMessage: Hey Bob! Don\u0027t forget the party this Saturday.\nReceiver: 2\nEntities:\n    - 1 \u0027\n    - DATE\n    - Bob\n    - PERSON\n    - this Saturday\n    - DATE\n    - 2\n    - CARDINAL\n\nDocument Data:\nSender: 1\nReceiver: 2\nSubject: Party Invitation\nMessage: Hey Bob, I\u0027m hosting a party on June 25th. Would you like to join?\nEntities:\n    - 1 \u0027\n    - DATE\n    - \u0027 2 \u0027\n    - DATE\n    - Party Invitation \u0027\n    - ORG\n    - Bob\n    - PERSON\n    - June 25th\n    - DATE\n\nDocument Data:\nSender: 5\nMessage: Are we having a gift exchange at the party?\nReceiver: 1\nEntities:\n    - \u0027 1\n    - DATE\n\nDocument Data:\nName: Bob\nSurname: Smith\nEmail: bob.smith@example.com\nPhone: 555-5678\nEntities:\n    - Bob\n    - PERSON\n    - Smith \u0027\n    - ORG\n    - 555-5678\n    - PHONE\n\nDocument Data:\nSender: 1\nReceiver: 3\nSubject: Party Details\nMessage: Charlie, the party will be at my place starting at 7 PM.\nEntities:\n    - 1 \u0027\n    - DATE\n    - \u0027 3 \u0027\n    - DATE\n    - Party Details \u0027\n    - ORG\n    - Charlie\n    - PERSON\n    - 7 PM\n    - TIME\n\nDocument Data:\nSender: 2\nReceiver: 1\nSubject: Re: Party Invitation\nMessage: Hi Alice, thanks for the invite! I\u0027ll be there.\nEntities:\n    - 2 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - Alice\n    - PERSON\n\nDocument Data:\nTitle: Birthday Party\nSubtitle: Alice\u0027s 30th Celebration\nNote: Theme: 80s Retro. Prepare decorations accordingly.\nEntities:\n    - Birthday Party \u0027\n    - ORG\n    - Alice\n    - PERSON\n    - Theme\n    - WORK_OF_ART\n\nDocument Data:\nSender: 1\nMessage: Charlie, can you handle the music setup?\nReceiver: 3\nEntities:\n    - 1 \u0027\n    - DATE\n    - Charlie\n    - PERSON\n    - \u0027 3\n    - DATE\n\nDocument Data:\nSender: 5\nReceiver: 1\nSubject: Gift Ideas\nMessage: Alice, do you have any suggestions for party gifts?\nEntities:\n    - 5 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - Gift Ideas \u0027\n    - PERSON\n    - Alice\n    - PERSON\n\nDocument Data:\nSender: 4\nReceiver: 1\nSubject: RSVP\nMessage: Alice, I\u0027ll attend your party. Let me know if you need any help.\nEntities:\n    - 4 \u0027\n    - DATE\n    - \u0027 1 \u0027\n    - DATE\n    - RSVP \u0027\n    - ORG\n    - Alice\n    - PERSON\n\n"}],"temperature":0.2,"response_format":{"type":"json_object"}}'
